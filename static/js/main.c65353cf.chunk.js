(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{23:function(e,t,n){e.exports={brandText:"navbar_brandText__3XSWe",brandImage:"navbar_brandImage__edego",defaultLinkText:"navbar_defaultLinkText__2jzNV",authenticatedBrandText:"navbar_authenticatedBrandText__3oLFp",authenticatedLinkText:"navbar_authenticatedLinkText__g8guY",invisibleOnMobile:"navbar_invisibleOnMobile__30ez-"}},54:function(e,t,n){e.exports={queueForm:"queueForm_queueForm__3UrPa"}},56:function(e,t,n){e.exports={adminPage:"adminPage_adminPage__3inFq"}},60:function(e,t,n){e.exports=n(98)},88:function(e,t,n){e.exports=n.p+"static/media/hellothere.be0ec76a.mp3"},90:function(e,t,n){},96:function(e,t,n){e.exports=n.p+"static/media/oslometsvart.3b9b0cc3.png"},97:function(e,t,n){e.exports=n.p+"static/media/oslomethvit.2c306d99.png"},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(17),c=n.n(u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,i,l,s=n(27),E=n(8),d=n(10),f=n(53);!function(e){e.AUTH_START="AUTH_START",e.AUTH_SUCCESS="AUTH_SUCCESS",e.AUTH_FAIL="AUTH_FAIL",e.AUTH_LOGOUT="AUTH_LOGOUT",e.CLEAR_ERROR="CLEAR_ERROR"}(o||(o={})),function(e){e.FETCH_QUEUE_START="FETCH_QUEUE_START",e.FETCH_QUEUE_SUCCESS="FETCH_QUEUE_SUCCESS",e.FETCH_QUEUE_FAIL="FETCH_QUEUE_FAIL",e.ADD_TO_QUEUE_START="ADD_TO_QUEUE_START",e.ADD_TO_QUEUE_SUCCESS="ADD_TO_QUEUE_SUCCESS",e.ADD_TO_QUEUE_FAIL="ADD_TO_QUEUE_FAIL",e.DELETE_FROM_QUEUE_START="DELETE_FROM_QUEUE_START",e.DELETE_FROM_QUEUE_SUCCESS="DELETE_FROM_QUEUE_SUCCESS",e.DELETE_FROM_QUEUE_FAIL="DELETE_FROM_QUEUE_FAIL",e.DONE_IN_QUEUE_START="DONE_IN_QUEUE_START",e.DONE_IN_QUEUE_SUCCESS="DONE_IN_QUEUE_SUCCESS",e.DONE_IN_QUEUE_FAIL="DONE_IN_QUEUE_FAIL"}(i||(i={})),function(e){e.FETCH_SUBJECTS_START="FETCH_SUBJECTS_START",e.FETCH_SUBJECTS_SUCCESS="FETCH_SUBJECTS_SUCCESS",e.FETCH_SUBJECTS_FAIL="FETCH_SUBJECTS_FAIL",e.ADD_SUBJECT_START="ADD_SUBJECT_START",e.ADD_SUBJECT_SUCCESS="ADD_SUBJECT_SUCCESS",e.ADD_SUBJECT_FAIL="ADD_SUBJECT_FAIL",e.EDIT_SUBJECT_START="EDIT_SUBJECT_START",e.EDIT_SUBJECT_SUCCESS="EDIT_SUBJECT_SUCCESS",e.EDIT_SUBJECT_FAIL="EDIT_SUBJECT_FAIL",e.DELETE_SUBJECT_START="DELETE_SUBJECT_START",e.DELETE_SUBJECT_SUCCESS="DELETE_SUBJECT_SUCCESS",e.DELETE_SUBJECT_FAIL="DELETE_SUBJECT_FAIL"}(l||(l={}));var m,S,_=n(6),T=n(16),b=function(e,t){return Object(T.a)(Object(T.a)({},e),t)},p=function(e){for(var t=Object(T.a)({},e),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(_.a)(a[n],2),u=r[0],c=r[1];"string"==typeof c&&("true"!==c&&"false"!==c||(t[u]="true"==c),isNaN(Number(c))||(t[u]=parseFloat(c)))}return t},g={user:null,error:null,loading:!1},C=function(e,t){return b(e,{error:null,loading:!0})},U=function(e,t){return b(e,{user:t.user,error:null,loading:!1})},h=function(e,t){return b(e,{error:t.error,loading:!1})},v=function(e,t){return b(e,{user:null})},A=function(e,t){return b(e,{error:null})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.AUTH_START:return C(e);case o.AUTH_SUCCESS:return U(e,t);case o.AUTH_FAIL:return h(e,t);case o.AUTH_LOGOUT:return v(e);case o.CLEAR_ERROR:return A(e);default:return e}},D={queueData:[],error:null,loading:!1},j=function(e,t){return b(e,{error:null,loading:!0})},y=function(e,t){return b(e,{error:t.error,loading:!1})},k=function(e,t){return b(e,{queueData:t.queueData,error:null,loading:!1})},L=function(e,t){return b(e,{error:null,loading:!1})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.FETCH_QUEUE_START:case i.ADD_TO_QUEUE_START:case i.DELETE_FROM_QUEUE_START:case i.DONE_IN_QUEUE_START:return j(e);case i.FETCH_QUEUE_FAIL:case i.ADD_TO_QUEUE_FAIL:case i.DELETE_FROM_QUEUE_FAIL:case i.DONE_IN_QUEUE_FAIL:return y(e,t);case i.FETCH_QUEUE_SUCCESS:return k(e,t);case i.ADD_TO_QUEUE_SUCCESS:case i.DELETE_FROM_QUEUE_SUCCESS:case i.DONE_IN_QUEUE_SUCCESS:return L(e);default:return e}},N={allSubjectData:[],currentSubjectData:[],error:null,loading:!1},R=function(e,t){return b(e,{error:null,loading:!0})},I=function(e,t){return b(e,{error:t.error,loading:!1})},w=function(e,t){return t.allSubjectData?b(e,{allSubjectData:t.allSubjectData,error:null,loading:!1}):b(e,{currentSubjectData:t.currentSubjectData,error:null,loading:!1})},B=function(e,t){return b(e,{error:null,loading:!1})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.FETCH_SUBJECTS_START:case l.ADD_SUBJECT_START:case l.DELETE_SUBJECT_START:return R(e);case l.FETCH_SUBJECTS_FAIL:case l.ADD_SUBJECT_FAIL:case l.DELETE_SUBJECT_FAIL:return I(e,t);case l.FETCH_SUBJECTS_SUCCESS:return w(e,t);case l.ADD_SUBJECT_SUCCESS:case l.DELETE_SUBJECT_SUCCESS:return B(e);default:return e}},x=Object(E.c)({auth:O,queue:F,subjects:Q}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,H=n(4),M=n(37),q=n.n(M),V="https://orakelqueueservice.herokuapp.com/api/",P=V+"resources/userguide/",G="/Orakel_Queue_Client/";!function(e){e.SELECT="select",e.TEXT="text",e.RADIO="radio"}(m||(m={})),function(e){e.SPRING="Spring",e.AUTUMN="Autumn"}(S||(S={}));var X,W=q.a.create({baseURL:V}),Y=q.a.create({baseURL:V,responseType:"blob"}),z=function(e){return{type:o.AUTH_SUCCESS,user:e}},K=function(){return localStorage.removeItem("user"),{type:o.AUTH_LOGOUT}},Z=function(){return function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;t&&t.token?W.post("auth/isTokenValid",t.token).then((function(n){!0===n.data?e(z(t)):e(K())})):e(K())}},$=function(e,t){return function(n){return n({type:o.AUTH_START}),W.post("auth/signin",{username:e,password:t}).then((function(e){if(e.data.token)return localStorage.setItem("user",JSON.stringify(e.data)),n(z(e.data)),!0})).catch((function(e){return n(function(e){return{type:o.AUTH_FAIL,error:e}}(e.response.data.message)),!1}))}},ee=function(){return{type:o.CLEAR_ERROR}},te=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}},ne=function(){return function(e){e({type:i.FETCH_QUEUE_START}),W.get("queue/").then((function(t){var n;e((n=t.data,{type:i.FETCH_QUEUE_SUCCESS,queueData:n}))})).catch((function(t){e(function(e){return{type:i.FETCH_QUEUE_FAIL,error:e}}(t.response))}))}},ae=function(e){return function(t){t({type:i.ADD_TO_QUEUE_START}),W.post("queue/",e).then((function(){t({type:i.ADD_TO_QUEUE_SUCCESS}),t(ne())})).catch((function(e){t(function(e){return{type:i.ADD_TO_QUEUE_FAIL,error:e}}(e.response.data))}))}},re=function(e){return function(t){t({type:i.DELETE_FROM_QUEUE_START}),W.delete("queue/"+e,{headers:te()}).then((function(){t({type:i.DELETE_FROM_QUEUE_SUCCESS}),t(ne())})).catch((function(e){t(function(e){return{type:i.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},ue=function(e){return function(t){t({type:i.DONE_IN_QUEUE_START}),W.post("queue/confirmdone/"+e,null,{headers:te()}).then((function(){t({type:i.DONE_IN_QUEUE_SUCCESS}),t(ne())})).catch((function(e){t(function(e){return{type:i.DONE_IN_QUEUE_FAIL,error:e}}(e.response))}))}},ce=function(){return{type:l.FETCH_SUBJECTS_START}},oe=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,allSubjectData:e}},ie=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,currentSubjectData:e}},le=function(e){return{type:l.FETCH_SUBJECTS_FAIL,error:e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(ce());var n=e?"subjects/":"subjects/current/";W.get(n).then((function(n){t(e?oe(n.data):ie(n.data))})).catch((function(e){t(le(e.response))}))}},Ee=function(){return{type:l.ADD_SUBJECT_START}},de=function(){return{type:l.ADD_SUBJECT_SUCCESS}},fe=function(e){return{type:l.ADD_SUBJECT_FAIL,error:e}},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(Ee()),(t?W.put("subjects/edit/"+e.id,e,{headers:te()}):W.post("subjects/",e,{headers:te()})).then((function(){n(de()),n(se(!0))})).catch((function(e){n(fe(e.response))}))}},Se=function(e){return function(t){t({type:i.DELETE_FROM_QUEUE_START}),W.delete("subjects/delete/"+e,{headers:te()}).then((function(){t({type:i.DELETE_FROM_QUEUE_SUCCESS}),t(se(!0))})).catch((function(e){t(function(e){return{type:i.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},_e=n(31),Te=n(54),be=n.n(Te),pe=function(e){return r.a.createElement("button",{type:"submit",disabled:e.disabled,className:"btn btn-primary ".concat(e.className),onClick:e.onClick},e.children)},ge=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-success ".concat(e.className),onClick:e.onClick},e.children)},Ce=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-danger ".concat(e.className),onClick:e.onClick},e.children)},Ue=function(e,t){switch(e.type){case m.TEXT:return t({required:e.validation.errorMessage,minLength:{value:e.validation.minLength,message:e.validation.errorMessage}});default:return t}},he=function(e,t){for(var n=!1,a=0,r=Object.entries(e);a<r.length;a++){r[a][0]===t.name&&(n=!0)}return n},ve=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)},key:e.inputConfig.key},e.inputConfig)))})),Ae=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)}},e.inputConfig),e.inputConfig.options.map((function(e){var t="object"===typeof e.value?JSON.stringify(e.value):String(e.value);return r.a.createElement("option",{key:e.displayValue,value:t},e.displayValue)}))))}));!function(e){e.FIRSTNAME="firstname",e.SUBJECT="subject",e.YEAR="year",e.DIGITAL="digitalConsultation"}(X||(X={}));var Oe,De=function(e){var t=e.subjects,n=e.addQueueEntity,u=Object(_e.a)(),c=u.register,o=u.handleSubmit,i=u.reset,l=u.errors,s=u.formState.isSubmitSuccessful,E=Object(a.useState)({type:m.TEXT,name:X.FIRSTNAME,placeholder:"Fornavn",validation:{minLength:3,errorMessage:"Vennligst oppgi et fornavn p\xe5 minst 3 bokstaver"}}),d=Object(_.a)(E,1)[0],f=Object(a.useState)({type:m.SELECT,name:X.SUBJECT,options:[]}),S=Object(_.a)(f,2),b=S[0],g=S[1],C=Object(a.useState)({type:m.SELECT,name:X.YEAR,options:[{value:1,displayValue:"1. \xe5r"},{value:2,displayValue:"2. \xe5r"},{value:3,displayValue:"3. \xe5r"}]}),U=Object(_.a)(C,1)[0],h=Object(a.useState)({type:m.SELECT,name:X.DIGITAL,options:[{value:!1,displayValue:"Fysisk Veiledning (Datatorget)"},{value:!0,displayValue:"Digital Veiledning (Discord)"}]}),v=Object(_.a)(h,1)[0];Object(a.useEffect)((function(){t.length>0&&A()}),[t]),Object(a.useEffect)((function(){s&&i()}),[s,i]);var A=function(){var e=Object(T.a)({},b);e.options=[],null===t||void 0===t||t.forEach((function(t){e.options.push({value:t.name,displayValue:t.name})})),g(e)},O=r.a.createElement("form",{onSubmit:o((function(e){var t=p(e),a={id:0,name:t.firstname,subject:t.subject,digitalConsultation:t.digitalConsultation,studyYear:t.year,confirmedDone:!1,timeConfirmedDone:null};n(a)})),className:"form-inline mt-5 mb-5 "+be.a.queueForm},r.a.createElement(ve,{inputConfig:d,error:he(l,d),ref:Ue(d,c)}),r.a.createElement(Ae,{inputConfig:b,ref:Ue(b,c)}),r.a.createElement(Ae,{inputConfig:U,ref:Ue(U,c)}),r.a.createElement(Ae,{inputConfig:v,ref:Ue(U,c)}),r.a.createElement(pe,{className:"ml-2 mr-2"},"Registrer"));return r.a.createElement("div",{className:"bg-white pb-1 pt-1"},O)},je=Object(d.b)((function(e){return{subjects:e.subjects.currentSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({addQueueEntity:ae},e)}))(De),ye=n(101),ke=function(e){var t=[];return e.defaultColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),e.isAuthenticated&&e.loggedInColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),r.a.createElement("thead",{key:"tableHead",className:"thead-dark"},r.a.createElement("tr",null,t))},Le=function(e){for(var t=e.queueData,n=e.confirmDoneEntity,a=e.deleteQueueEntity,u=e.isAuthenticated,c=e.userRoles,o=e.defaultColumns,i=e.loggedInColumns,l=[],s=function(e){var o="row"+e,i=[];i.push(r.a.createElement("td",{key:"entry"+e,id:"entry"+e},"# ",e+1)),i.push(r.a.createElement("td",{key:"name"+e,id:"name"+e},t[e].name)),i.push(r.a.createElement("td",{key:"subject"+e,id:"subject"+e},t[e].subject)),i.push(r.a.createElement("td",{key:"discord"+e,id:"discord"+e},t[e].digitalConsultation?"Discord":"Datatorget")),u&&c.includes("ROLE_ADMIN")&&i.push(r.a.createElement("td",{key:"actions"+e,id:"action"+e},r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{onClick:function(){return n(t[e].id)}},"Ferdig"),r.a.createElement(Ce,{className:"ml-2",onClick:function(){return a(t[e].id)}},"Slett")))),l.push(r.a.createElement("tr",{key:e,id:o},i))},E=0;E<t.length;E++)s(E);var d=r.a.createElement(ke,{defaultColumns:o,loggedInColumns:i,isAuthenticated:u}),f=r.a.createElement("tbody",null,l);return r.a.createElement(ye.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"mb-4 bg-white"},d,f)},Fe=function(){return r.a.createElement("div",{className:"spinner-border text-primary"})},Ne=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&(null===n||void 0===n||n.current())}),t);return function(){return clearInterval(e)}}}),[t])},Re=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current},Ie=n(55),we=n(88),Be=function(e){var t=e.isAuthenticated,n=e.userRoles,u=e.queueData,c=e.deleteQueueEntity,o=e.confirmDoneEntity,i=e.pollingFunction,l=Object(Ie.a)(we),s=Object(_.a)(l,1)[0],E=Re(u);Object(a.useEffect)((function(){i()}),[i]),Ne((function(){i()}),5e3),Object(a.useEffect)((function(){E&&t&&u.length>=E.length&&(function(e,t){if(e.length!==t.length)return!1;for(var n=!0,a=0;a<e.length;a++)if(JSON.stringify(e[a])!==JSON.stringify(t[a])){n=!1;break}return n}(u,E)||s())}),[u,t,s,E]);var d=void 0===u?r.a.createElement(Fe,null):r.a.createElement(Le,{defaultColumns:["Plassering","Navn","Emne","Arena"],loggedInColumns:["Handlinger"],queueData:u,isAuthenticated:t,userRoles:n,confirmDoneEntity:o,deleteQueueEntity:c});return r.a.createElement(r.a.Fragment,null,d)},Qe=Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token),userRoles:e.auth.user?e.auth.user.roles:[],queueData:e.queue.queueData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({deleteQueueEntity:re,confirmDoneEntity:ue,pollingFunction:ne},e)}))(Be),xe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null),r.a.createElement(Qe,null))},Je=n(56),He=n.n(Je),Me=function(e){var t="card bg-white mb-4 mt-4 ml-4 mr-4 ",n="".concat(String(e.widthPercent),"%");return e.shadow&&(t+="shadow rounded "),r.a.createElement("div",{className:t,style:{width:n}},r.a.createElement("div",{className:"card-header bg-warning"},r.a.createElement("h2",null,r.a.createElement("b",null,e.header))),e.children)},qe=n(3),Ve=n.n(qe),Pe=n(11),Ge=Object(a.forwardRef)((function(e,t){var n="form-check form-check-inline ml-2 mr-2 mt-2 mb-4 ";e.error&&(n+="is-invalid ");var a=function(t){e.onChange&&e.onChange(t)},u=[];return e.inputConfig.buttons.forEach((function(c){u.push(r.a.createElement("div",{key:c.label,className:n},r.a.createElement("input",Object.assign({key:"".concat(c.key,"radio").concat(c.value),value:c.value,className:"form-check-input ",ref:t,defaultChecked:c.defaultChecked,onChange:a},e.inputConfig)),r.a.createElement("label",{className:"form-check-label"},c.label)))})),r.a.createElement(r.a.Fragment,null,u)})),Xe=n(25),We=n.n(Xe),Ye=n(26),ze=n.n(Ye),Ke=function(e){var t=e.title,n=e.contentText,a=ze()(We.a);return a.fire({title:t,html:n,icon:"warning",showDenyButton:!0,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(e){return e.isConfirmed?(a.fire("Done!","","success"),!0):e.isDenied?(a.fire("Aborted","","info"),!1):void 0}))};!function(e){e.SELECTED_SUBJECT="selectedSubject",e.NEW_SUBJECT_NAME="newSubjectName",e.CHECKED_SEMESTER="checkedSemester"}(Oe||(Oe={}));var Ze=function(e){var t=Oe.NEW_SUBJECT_NAME,n=Oe.SELECTED_SUBJECT,u=Oe.CHECKED_SEMESTER,c=Object(_e.a)(),o=c.register,i=c.handleSubmit,l=c.reset,s=c.errors,E=c.formState.isSubmitSuccessful,d=Object(a.useState)(!1),f=Object(_.a)(d,2),g=f[0],C=f[1],U=Object(a.useState)({type:m.SELECT,name:n,options:[]}),h=Object(_.a)(U,2),v=h[0],A=h[1],O=Object(a.useState)({type:m.TEXT,name:t,key:t,placeholder:"Subject Name",validation:{minLength:3,errorMessage:"Please provide a subject name of with at least 3 characters"}}),D=Object(_.a)(O,2),j=D[0],y=D[1],k=Object(a.useState)({type:m.RADIO,name:u,buttons:[{label:S.SPRING,value:0,key:S.SPRING,defaultChecked:!0},{label:S.AUTUMN,value:1,key:S.AUTUMN,defaultChecked:!1}]}),L=Object(_.a)(k,2),F=L[0],N=L[1];Object(a.useEffect)((function(){e.subjects.length>0?R():e.fetchSubjects(!0)}),[e.subjects]),Object(a.useEffect)((function(){E&&I()}),[E,l]);var R=function(){var t=Object(T.a)({},v);t.options=[],t.options.push({value:{name:"<New Subject>"},displayValue:"<New Subject>"}),e.subjects.forEach((function(e){t.options.push({value:e,displayValue:e.name})})),A(t)},I=function(){var e=b(j,{defaultValue:""});y(e),C(!1),l()},w=function(){var t=Object(Pe.a)(Ve.a.mark((function t(n){var a,r;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p(JSON.parse(n.selectedSubject)),r={id:a.id?a.id:0,name:n.newSubjectName,semester:"0"===n.checkedSemester?S.SPRING:S.AUTUMN},!g){t.next=9;break}return t.next=5,Ke({title:"Confirm new details of ".concat(a.name),contentText:"New name: ".concat(r.name,". New semester: ").concat(r.semester)});case 5:t.sent&&e.addEditSubject(r,!0),t.next=13;break;case 9:return t.next=11,Ke({title:"Are you sure you want to add new subject ".concat(r.name,"?"),contentText:"If you have selected the current semester as this subject's semester, it will be visible\n                to all users once it is saved"});case 11:t.sent&&e.addEditSubject(r,!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(Pe.a)(Ve.a.mark((function t(n){var a;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=p(JSON.parse(n.selectedSubject)),t.next=3,Ke({title:"Delete ".concat(a.name,"?"),contentText:"This action is final and cannot be reverted."});case 3:t.sent&&e.deleteSubject(a.id);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=r.a.createElement("form",{className:"mt-2 mb-2",style:{width:"80%",margin:"auto"}},r.a.createElement(Ae,{ref:Ue(v,o),inputConfig:v,onChange:function(e){return function(e){var t=Object(T.a)({},j),n=Object(T.a)({},F),a=JSON.parse(e.currentTarget.value);"<New Subject>"===a.name?(C(!1),t.placeholder="Subject Name",t.defaultValue="",t.key="<New Subject>"):(C(!0),t.defaultValue=a.name,t.key=a.name,n.buttons.forEach((function(e){e.key=a.name,e.defaultChecked=e.label===a.semester}))),y(t),N(n)}(e)}}),r.a.createElement(ve,{ref:Ue(j,o),inputConfig:j,error:he(s,j)}),r.a.createElement(Ge,{ref:Ue(F,o),inputConfig:F}),r.a.createElement("div",{className:"form-group"},r.a.createElement(pe,{onClick:i(w)},g?"Save Edit":"Save New"),g?r.a.createElement(Ce,{className:"ml-2",onClick:i(B)},"Delete Subject"):null));return r.a.createElement(r.a.Fragment,null,Q)},$e=Object(d.b)((function(e){return{subjects:e.subjects.allSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({fetchSubjects:se,addEditSubject:me,deleteSubject:Se},e)}))(Ze),et=function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(pe,{onClick:function(){Y.get("resources/queuedata/",{headers:te()}).then((function(e){!function(e,t,n){var a=window.URL.createObjectURL(new Blob([n])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(e,".").concat(t)),document.body.appendChild(r),r.click()}("queueData","csv",e.data)}))}},"Export"))},tt=function(e){return r.a.createElement(r.a.Fragment,null,e.isAuthenticated?r.a.createElement("div",{className:"d-flex flex-row "+He.a.adminPage},r.a.createElement(Me,{widthPercent:25,shadow:!0,header:"Subjects"},r.a.createElement($e,null)),r.a.createElement(Me,{widthPercent:25,shadow:!0,header:"Export Queue Data"},r.a.createElement(et,null))):r.a.createElement("h1",{style:{color:"red"}},"UNAUTHORIZED"))},nt=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}))(tt),at=Object(H.o)(Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({autoLogin:Z,getSubjectData:se},e)}))((function(e){var t=e.autoLogin,n=e.getSubjectData;Object(a.useEffect)((function(){t(),n()}),[t,n]);var u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:G,exact:!0,render:xe}),r.a.createElement(H.c,{to:G}));return e.isAuthenticated&&(u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:"/Orakel_Queue_Client/Admin",render:function(){return r.a.createElement(nt,null)}}),r.a.createElement(H.d,{path:G,exact:!0,render:xe}),r.a.createElement(H.c,{to:G}))),r.a.createElement("div",{style:{textAlign:"center"}},u)}))),rt=(n(90),n(91),n(102)),ut=n(40),ct=n(22),ot=n(23),it=n.n(ot),lt=function(e){var t=e.title,n=e.contentText,a=e.url,r=e.hyperlinkText,u=ze()(We.a),c=document.createElement("div");return a&&r&&(c.innerHTML='<strong><a href="'.concat(a,'" target="_blank">').concat(r,"</a></strong>")),u.fire({title:t,html:n,footer:a&&r?c:null,icon:"info",confirmButtonText:"Lukk"})},st=function(e){var t=e.onLoginSubmit,n=e.clearLoginError,a=ze()(We.a);return a.fire({title:"Orakel Innlogging",html:'<input type="text" id="login" class="swal2-input" placeholder="Brukernavn">\n                        <input type="password" id="password" class="swal2-input" placeholder="Passord">',confirmButtonText:"Logg Inn",showLoaderOnConfirm:!0,showCancelButton:!0,cancelButtonColor:"#d33",cancelButtonText:"Avbryt",allowOutsideClick:function(){return!a.isLoading()},preConfirm:function(){var e=Object(Pe.a)(Ve.a.mark((function e(){var n,r,u,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.getPopup().querySelector("#login"),r=a.getPopup().querySelector("#password"),u=n.value.trim(),c=r.value.trim(),u&&c){e.next=7;break}return a.showValidationMessage("Oppgi brukernavn og passord!"),e.abrupt("return",!1);case 7:return e.next=9,t(u,c);case 9:if(e.sent){e.next=13;break}return a.showValidationMessage("Ugyldig brukernavn eller passord!"),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}).then((function(e){e.isDismissed&&n()}))},Et=function(e){var t=e.isAuthenticated?it.a.authenticatedLinkText:it.a.defaultLinkText,a=e.isAuthenticated?{expand:"lg",bg:"warning"}:{variant:"dark",expand:"lg",bg:"primary"},u=r.a.createElement(ct.a.Link,{className:t,onClick:e.isAuthenticated?e.logoutHandler:function(){st({onLoginSubmit:e.onLoginSubmit,clearLoginError:e.clearLoginError})}},e.isAuthenticated?"Logg Ut":"Logg Inn");return r.a.createElement(rt.a,a,r.a.createElement(rt.a.Brand,{className:it.a.invisibleOnMobile},r.a.createElement("img",{className:it.a.brandImage,alt:"OsloMet Logo",src:n(e.isAuthenticated?96:97)})),r.a.createElement(ut.LinkContainer,{to:G},r.a.createElement(ct.a.Link,null,r.a.createElement(rt.a.Brand,{className:e.isAuthenticated?it.a.authenticatedBrandText:it.a.brandText},"Orakel"))),r.a.createElement(rt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(rt.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(ct.a,null,r.a.createElement(ct.a.Link,{className:t,onClick:function(){return lt({title:"Discord",contentText:"For digital veiledning benytter vi oss av Discord, og har v\xe5r egen server til dette. Inne p\xe5 serveren setter vi pris p\xe5 om du leser informasjonen i tekstkanalen kalt informasjon, og vi anbefaler alle \xe5 laste ned klienten deres i stedet for \xe5 bruke tjenesten gjennom nettleseren.",url:"https://discord.gg/jgzqYpX",hyperlinkText:"Orakel Discord"})}},"Discord"),r.a.createElement(ct.a.Link,{className:t,onClick:function(){return lt({title:"Feilrapportering",contentText:"Orakels k\xf8system er et fritidsprosjekt som er bygget og vedlikeholdt av en person. Det er derfor en viss fare for bugs og feil. Disse kan rapporteres ved \xe5 legge inn en issue p\xe5 GitHub-repoet, eller ved \xe5 ta kontakt med Fredrik Pedersen. Vi setter ogs\xe5 pris p\xe5 \xf8nsker om tilleggsfunksjonalitet :)",url:"https://github.com/OrakelOsloMet/Orakel_Queue_Client/issues",hyperlinkText:"GitHub Repo"})}},"Feilrapportering"),r.a.createElement(ct.a.Link,{className:t,onClick:function(){return lt({title:"Om Orakels K\xf8system",contentText:"Coming Soon!",url:P,hyperlinkText:"Brukerveiledning"})}},"Om"),e.isAuthenticated?r.a.createElement(ut.LinkContainer,{to:"/Orakel_Queue_Client/Admin"},r.a.createElement(ct.a.Link,{className:t},"Admin")):null,u)))},dt=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({onLoginSubmit:$,clearLoginError:ee,logoutHandler:K},e)}))(Et),ft=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,null),r.a.createElement("main",{className:"mb-5"},e.children))},mt=Object(E.e)(x,J(Object(E.a)(f.a))),St=r.a.createElement(d.a,{store:mt},r.a.createElement(s.BrowserRouter,null,r.a.createElement(ft,null,r.a.createElement(at,null))));c.a.render(St,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.c65353cf.chunk.js.map