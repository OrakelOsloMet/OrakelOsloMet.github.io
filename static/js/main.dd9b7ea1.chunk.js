(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{23:function(e,t,n){e.exports={brandText:"navbar_brandText__3JYZf",brandImage:"navbar_brandImage__1cdba",defaultLinkText:"navbar_defaultLinkText__Duc5y",authenticatedBrandText:"navbar_authenticatedBrandText__3JKet",authenticatedLinkText:"navbar_authenticatedLinkText__3kvOi",invisibleOnMobile:"navbar_invisibleOnMobile__H03rF"}},54:function(e,t,n){e.exports={queueForm:"queueForm_queueForm__280wg"}},56:function(e,t,n){e.exports={adminPage:"adminPage_adminPage__1C4rP"}},60:function(e,t,n){e.exports=n(98)},88:function(e,t,n){e.exports=n.p+"static/media/hellothere.be0ec76a.mp3"},90:function(e,t,n){},96:function(e,t,n){e.exports=n.p+"static/media/oslometsvart.3b9b0cc3.png"},97:function(e,t,n){e.exports=n.p+"static/media/oslomethvit.2c306d99.png"},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(17),c=n.n(u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,o,l,s=n(27),E=n(8),d=n(10),f=n(53);!function(e){e.AUTH_START="AUTH_START",e.AUTH_SUCCESS="AUTH_SUCCESS",e.AUTH_FAIL="AUTH_FAIL",e.AUTH_LOGOUT="AUTH_LOGOUT",e.CLEAR_ERROR="CLEAR_ERROR"}(i||(i={})),function(e){e.FETCH_QUEUE_START="FETCH_QUEUE_START",e.FETCH_QUEUE_SUCCESS="FETCH_QUEUE_SUCCESS",e.FETCH_QUEUE_FAIL="FETCH_QUEUE_FAIL",e.ADD_TO_QUEUE_START="ADD_TO_QUEUE_START",e.ADD_TO_QUEUE_SUCCESS="ADD_TO_QUEUE_SUCCESS",e.ADD_TO_QUEUE_FAIL="ADD_TO_QUEUE_FAIL",e.DELETE_FROM_QUEUE_START="DELETE_FROM_QUEUE_START",e.DELETE_FROM_QUEUE_SUCCESS="DELETE_FROM_QUEUE_SUCCESS",e.DELETE_FROM_QUEUE_FAIL="DELETE_FROM_QUEUE_FAIL",e.DONE_IN_QUEUE_START="DONE_IN_QUEUE_START",e.DONE_IN_QUEUE_SUCCESS="DONE_IN_QUEUE_SUCCESS",e.DONE_IN_QUEUE_FAIL="DONE_IN_QUEUE_FAIL"}(o||(o={})),function(e){e.FETCH_SUBJECTS_START="FETCH_SUBJECTS_START",e.FETCH_SUBJECTS_SUCCESS="FETCH_SUBJECTS_SUCCESS",e.FETCH_SUBJECTS_FAIL="FETCH_SUBJECTS_FAIL",e.ADD_SUBJECT_START="ADD_SUBJECT_START",e.ADD_SUBJECT_SUCCESS="ADD_SUBJECT_SUCCESS",e.ADD_SUBJECT_FAIL="ADD_SUBJECT_FAIL",e.EDIT_SUBJECT_START="EDIT_SUBJECT_START",e.EDIT_SUBJECT_SUCCESS="EDIT_SUBJECT_SUCCESS",e.EDIT_SUBJECT_FAIL="EDIT_SUBJECT_FAIL",e.DELETE_SUBJECT_START="DELETE_SUBJECT_START",e.DELETE_SUBJECT_SUCCESS="DELETE_SUBJECT_SUCCESS",e.DELETE_SUBJECT_FAIL="DELETE_SUBJECT_FAIL"}(l||(l={}));var m,S,_=n(6),T=n(16),b=function(e,t){return Object(T.a)(Object(T.a)({},e),t)},p=function(e){for(var t=Object(T.a)({},e),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(_.a)(a[n],2),u=r[0],c=r[1];"string"==typeof c&&("true"!==c&&"false"!==c||(t[u]="true"==c),isNaN(Number(c))||(t[u]=parseFloat(c)))}return t},C={user:null,error:null,loading:!1},g=function(e,t){return b(e,{error:null,loading:!0})},U=function(e,t){return b(e,{user:t.user,error:null,loading:!1})},h=function(e,t){return b(e,{error:t.error,loading:!1})},v=function(e,t){return b(e,{user:null})},A=function(e,t){return b(e,{error:null})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.AUTH_START:return g(e);case i.AUTH_SUCCESS:return U(e,t);case i.AUTH_FAIL:return h(e,t);case i.AUTH_LOGOUT:return v(e);case i.CLEAR_ERROR:return A(e);default:return e}},D={queueData:[],error:null,loading:!1},j=function(e,t){return b(e,{error:null,loading:!0})},y=function(e,t){return b(e,{error:t.error,loading:!1})},k=function(e,t){return b(e,{queueData:t.queueData,error:null,loading:!1})},L=function(e,t){return b(e,{error:null,loading:!1})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.FETCH_QUEUE_START:case o.ADD_TO_QUEUE_START:case o.DELETE_FROM_QUEUE_START:case o.DONE_IN_QUEUE_START:return j(e);case o.FETCH_QUEUE_FAIL:case o.ADD_TO_QUEUE_FAIL:case o.DELETE_FROM_QUEUE_FAIL:case o.DONE_IN_QUEUE_FAIL:return y(e,t);case o.FETCH_QUEUE_SUCCESS:return k(e,t);case o.ADD_TO_QUEUE_SUCCESS:case o.DELETE_FROM_QUEUE_SUCCESS:case o.DONE_IN_QUEUE_SUCCESS:return L(e);default:return e}},N={allSubjectData:[],currentSubjectData:[],error:null,loading:!1},R=function(e,t){return b(e,{error:null,loading:!0})},I=function(e,t){return b(e,{error:t.error,loading:!1})},w=function(e,t){return t.allSubjectData?b(e,{allSubjectData:t.allSubjectData,error:null,loading:!1}):b(e,{currentSubjectData:t.currentSubjectData,error:null,loading:!1})},B=function(e,t){return b(e,{error:null,loading:!1})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.FETCH_SUBJECTS_START:case l.ADD_SUBJECT_START:case l.DELETE_SUBJECT_START:return R(e);case l.FETCH_SUBJECTS_FAIL:case l.ADD_SUBJECT_FAIL:case l.DELETE_SUBJECT_FAIL:return I(e,t);case l.FETCH_SUBJECTS_SUCCESS:return w(e,t);case l.ADD_SUBJECT_SUCCESS:case l.DELETE_SUBJECT_SUCCESS:return B(e);default:return e}},x=Object(E.c)({auth:O,queue:F,subjects:Q}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,H=n(4),M=n(37),q=n.n(M),V="/Orakel_Queue_Client/";!function(e){e.SELECT="select",e.TEXT="text",e.RADIO="radio"}(m||(m={})),function(e){e.SPRING="Spring",e.AUTUMN="Autumn"}(S||(S={}));var P,G=q.a.create({baseURL:"/api/"}),X=q.a.create({baseURL:"/api/",responseType:"blob"}),Y=function(e){return{type:i.AUTH_SUCCESS,user:e}},K=function(){return localStorage.removeItem("user"),{type:i.AUTH_LOGOUT}},W=function(){return function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;t&&t.token?G.post("auth/isTokenValid",t.token).then((function(n){!0===n.data?e(Y(t)):e(K())})):e(K())}},z=function(e,t){return function(n){return n({type:i.AUTH_START}),G.post("auth/signin",{username:e,password:t}).then((function(e){if(e.data.token)return localStorage.setItem("user",JSON.stringify(e.data)),n(Y(e.data)),!0})).catch((function(e){return n(function(e){return{type:i.AUTH_FAIL,error:e}}(e.response.data.message)),!1}))}},Z=function(){return{type:i.CLEAR_ERROR}},$=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}},ee=function(){return function(e){e({type:o.FETCH_QUEUE_START}),G.get("queue/").then((function(t){var n;e((n=t.data,{type:o.FETCH_QUEUE_SUCCESS,queueData:n}))})).catch((function(t){e(function(e){return{type:o.FETCH_QUEUE_FAIL,error:e}}(t.response))}))}},te=function(e){return function(t){t({type:o.ADD_TO_QUEUE_START}),G.post("queue/",e).then((function(){t({type:o.ADD_TO_QUEUE_SUCCESS}),t(ee())})).catch((function(e){t(function(e){return{type:o.ADD_TO_QUEUE_FAIL,error:e}}(e.response.data))}))}},ne=function(e){return function(t){t({type:o.DELETE_FROM_QUEUE_START}),G.delete("queue/"+e,{headers:$()}).then((function(){t({type:o.DELETE_FROM_QUEUE_SUCCESS}),t(ee())})).catch((function(e){t(function(e){return{type:o.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},ae=function(e){return function(t){t({type:o.DONE_IN_QUEUE_START}),G.post("queue/confirmdone/"+e,null,{headers:$()}).then((function(){t({type:o.DONE_IN_QUEUE_SUCCESS}),t(ee())})).catch((function(e){t(function(e){return{type:o.DONE_IN_QUEUE_FAIL,error:e}}(e.response))}))}},re=function(){return{type:l.FETCH_SUBJECTS_START}},ue=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,allSubjectData:e}},ce=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,currentSubjectData:e}},ie=function(e){return{type:l.FETCH_SUBJECTS_FAIL,error:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(re());var n=e?"subjects/":"subjects/current/";G.get(n).then((function(n){t(e?ue(n.data):ce(n.data))})).catch((function(e){t(ie(e.response))}))}},le=function(){return{type:l.ADD_SUBJECT_START}},se=function(){return{type:l.ADD_SUBJECT_SUCCESS}},Ee=function(e){return{type:l.ADD_SUBJECT_FAIL,error:e}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(le()),(t?G.put("subjects/edit/"+e.id,e,{headers:$()}):G.post("subjects/",e,{headers:$()})).then((function(){n(se()),n(oe(!0))})).catch((function(e){n(Ee(e.response))}))}},fe=function(e){return function(t){t({type:o.DELETE_FROM_QUEUE_START}),G.delete("subjects/delete/"+e,{headers:$()}).then((function(){t({type:o.DELETE_FROM_QUEUE_SUCCESS}),t(oe(!0))})).catch((function(e){t(function(e){return{type:o.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},me=n(31),Se=n(54),_e=n.n(Se),Te=function(e){return r.a.createElement("button",{type:"submit",disabled:e.disabled,className:"btn btn-primary ".concat(e.className),onClick:e.onClick},e.children)},be=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-success ".concat(e.className),onClick:e.onClick},e.children)},pe=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-danger ".concat(e.className),onClick:e.onClick},e.children)},Ce=function(e,t){switch(e.type){case m.TEXT:return t({required:e.validation.errorMessage,minLength:{value:e.validation.minLength,message:e.validation.errorMessage}});default:return t}},ge=function(e,t){for(var n=!1,a=0,r=Object.entries(e);a<r.length;a++){r[a][0]===t.name&&(n=!0)}return n},Ue=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)},key:e.inputConfig.key},e.inputConfig)))})),he=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)}},e.inputConfig),e.inputConfig.options.map((function(e){var t="object"===typeof e.value?JSON.stringify(e.value):String(e.value);return r.a.createElement("option",{key:e.displayValue,value:t},e.displayValue)}))))}));!function(e){e.FIRSTNAME="firstname",e.SUBJECT="subject",e.YEAR="year",e.DIGITAL="digitalConsultation"}(P||(P={}));var ve,Ae=function(e){var t=e.subjects,n=e.addQueueEntity,u=Object(me.a)(),c=u.register,i=u.handleSubmit,o=u.reset,l=u.errors,s=u.formState.isSubmitSuccessful,E=Object(a.useState)({type:m.TEXT,name:P.FIRSTNAME,placeholder:"Fornavn + bordnummer",validation:{minLength:3,errorMessage:"Vennligst oppgi et fornavn p\xe5 minst 3 bokstaver"}}),d=Object(_.a)(E,1)[0],f=Object(a.useState)({type:m.SELECT,name:P.SUBJECT,options:[]}),S=Object(_.a)(f,2),b=S[0],C=S[1],g=Object(a.useState)({type:m.SELECT,name:P.YEAR,options:[{value:1,displayValue:"1. \xe5r"},{value:2,displayValue:"2. \xe5r"},{value:3,displayValue:"3. \xe5r"}]}),U=Object(_.a)(g,1)[0],h=Object(a.useState)({type:m.SELECT,name:P.DIGITAL,options:[{value:!1,displayValue:"Fysisk Veiledning (Datatorget)"},{value:!0,displayValue:"Digital Veiledning (Discord)"}]}),v=Object(_.a)(h,1)[0];Object(a.useEffect)((function(){t.length>0&&A()}),[t]),Object(a.useEffect)((function(){s&&o()}),[s,o]);var A=function(){var e=Object(T.a)({},b);e.options=[],null===t||void 0===t||t.forEach((function(t){e.options.push({value:t.name,displayValue:t.name})})),C(e)},O=r.a.createElement("form",{onSubmit:i((function(e){var t=p(e),a={id:0,name:t.firstname,subject:t.subject,digitalConsultation:t.digitalConsultation,studyYear:t.year,confirmedDone:!1,timeConfirmedDone:null};n(a)})),className:"form-inline mt-5 mb-5 "+_e.a.queueForm},r.a.createElement(Ue,{inputConfig:d,error:ge(l,d),ref:Ce(d,c)}),r.a.createElement(he,{inputConfig:b,ref:Ce(b,c)}),r.a.createElement(he,{inputConfig:U,ref:Ce(U,c)}),r.a.createElement(he,{inputConfig:v,ref:Ce(U,c)}),r.a.createElement(Te,{className:"ml-2 mr-2"},"Registrer"));return r.a.createElement("div",{className:"bg-white pb-1 pt-1"},O)},Oe=Object(d.b)((function(e){return{subjects:e.subjects.currentSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({addQueueEntity:te},e)}))(Ae),De=n(101),je=function(e){var t=[];return e.defaultColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),e.isAuthenticated&&e.loggedInColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),r.a.createElement("thead",{key:"tableHead",className:"thead-dark"},r.a.createElement("tr",null,t))},ye=function(e){for(var t=e.queueData,n=e.confirmDoneEntity,a=e.deleteQueueEntity,u=e.isAuthenticated,c=e.userRoles,i=e.defaultColumns,o=e.loggedInColumns,l=[],s=function(e){var i="row"+e,o=[];o.push(r.a.createElement("td",{key:"entry"+e,id:"entry"+e},"# ",e+1)),o.push(r.a.createElement("td",{key:"name"+e,id:"name"+e},t[e].name)),o.push(r.a.createElement("td",{key:"subject"+e,id:"subject"+e},t[e].subject)),o.push(r.a.createElement("td",{key:"discord"+e,id:"discord"+e},t[e].digitalConsultation?"Discord":"Datatorget")),u&&c.includes("ROLE_ADMIN")&&o.push(r.a.createElement("td",{key:"actions"+e,id:"action"+e},r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{onClick:function(){return n(t[e].id)}},"Ferdig"),r.a.createElement(pe,{className:"ml-2",onClick:function(){return a(t[e].id)}},"Slett")))),l.push(r.a.createElement("tr",{key:e,id:i},o))},E=0;E<t.length;E++)s(E);var d=r.a.createElement(je,{defaultColumns:i,loggedInColumns:o,isAuthenticated:u}),f=r.a.createElement("tbody",null,l);return r.a.createElement(De.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"mb-4 bg-white"},d,f)},ke=function(){return r.a.createElement("div",{className:"spinner-border text-primary"})},Le=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&(null===n||void 0===n||n.current())}),t);return function(){return clearInterval(e)}}}),[t])},Fe=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current},Ne=n(55),Re=n(88),Ie=function(e){var t=e.isAuthenticated,n=e.userRoles,u=e.queueData,c=e.deleteQueueEntity,i=e.confirmDoneEntity,o=e.pollingFunction,l=Object(Ne.a)(Re),s=Object(_.a)(l,1)[0],E=Fe(u);Object(a.useEffect)((function(){o()}),[o]),Le((function(){o()}),5e3),Object(a.useEffect)((function(){E&&t&&u.length>=E.length&&(function(e,t){if(e.length!==t.length)return!1;for(var n=!0,a=0;a<e.length;a++)if(JSON.stringify(e[a])!==JSON.stringify(t[a])){n=!1;break}return n}(u,E)||s())}),[u,t,s,E]);var d=void 0===u?r.a.createElement(ke,null):r.a.createElement(ye,{defaultColumns:["Plassering","Navn + bordnummer","Emne","Arena"],loggedInColumns:["Handlinger"],queueData:u,isAuthenticated:t,userRoles:n,confirmDoneEntity:i,deleteQueueEntity:c});return r.a.createElement(r.a.Fragment,null,d)},we=Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token),userRoles:e.auth.user?e.auth.user.roles:[],queueData:e.queue.queueData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({deleteQueueEntity:ne,confirmDoneEntity:ae,pollingFunction:ee},e)}))(Ie),Be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,null),r.a.createElement(we,null))},Qe=n(56),xe=n.n(Qe),Je=function(e){var t="card bg-white mb-4 mt-4 ml-4 mr-4 ",n="".concat(String(e.widthPercent),"%");return e.shadow&&(t+="shadow rounded "),r.a.createElement("div",{className:t,style:{width:n}},r.a.createElement("div",{className:"card-header bg-warning"},r.a.createElement("h2",null,r.a.createElement("b",null,e.header))),e.children)},He=n(3),Me=n.n(He),qe=n(11),Ve=Object(a.forwardRef)((function(e,t){var n="form-check form-check-inline ml-2 mr-2 mt-2 mb-4 ";e.error&&(n+="is-invalid ");var a=function(t){e.onChange&&e.onChange(t)},u=[];return e.inputConfig.buttons.forEach((function(c){u.push(r.a.createElement("div",{key:c.label,className:n},r.a.createElement("input",Object.assign({key:"".concat(c.key,"radio").concat(c.value),value:c.value,className:"form-check-input ",ref:t,defaultChecked:c.defaultChecked,onChange:a},e.inputConfig)),r.a.createElement("label",{className:"form-check-label"},c.label)))})),r.a.createElement(r.a.Fragment,null,u)})),Pe=n(25),Ge=n.n(Pe),Xe=n(26),Ye=n.n(Xe),Ke=function(e){var t=e.title,n=e.contentText,a=Ye()(Ge.a);return a.fire({title:t,html:n,icon:"warning",showDenyButton:!0,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(e){return e.isConfirmed?(a.fire("Done!","","success"),!0):e.isDenied?(a.fire("Aborted","","info"),!1):void 0}))};!function(e){e.SELECTED_SUBJECT="selectedSubject",e.NEW_SUBJECT_NAME="newSubjectName",e.CHECKED_SEMESTER="checkedSemester"}(ve||(ve={}));var We=function(e){var t=ve.NEW_SUBJECT_NAME,n=ve.SELECTED_SUBJECT,u=ve.CHECKED_SEMESTER,c=Object(me.a)(),i=c.register,o=c.handleSubmit,l=c.reset,s=c.errors,E=c.formState.isSubmitSuccessful,d=Object(a.useState)(!1),f=Object(_.a)(d,2),C=f[0],g=f[1],U=Object(a.useState)({type:m.SELECT,name:n,options:[]}),h=Object(_.a)(U,2),v=h[0],A=h[1],O=Object(a.useState)({type:m.TEXT,name:t,key:t,placeholder:"Subject Name",validation:{minLength:3,errorMessage:"Please provide a subject name of with at least 3 characters"}}),D=Object(_.a)(O,2),j=D[0],y=D[1],k=Object(a.useState)({type:m.RADIO,name:u,buttons:[{label:S.SPRING,value:0,key:S.SPRING,defaultChecked:!0},{label:S.AUTUMN,value:1,key:S.AUTUMN,defaultChecked:!1}]}),L=Object(_.a)(k,2),F=L[0],N=L[1];Object(a.useEffect)((function(){e.subjects.length>0?R():e.fetchSubjects(!0)}),[e.subjects]),Object(a.useEffect)((function(){E&&I()}),[E,l]);var R=function(){var t=Object(T.a)({},v);t.options=[],t.options.push({value:{name:"<New Subject>"},displayValue:"<New Subject>"}),e.subjects.forEach((function(e){t.options.push({value:e,displayValue:e.name})})),A(t)},I=function(){var e=b(j,{defaultValue:""});y(e),g(!1),l()},w=function(){var t=Object(qe.a)(Me.a.mark((function t(n){var a,r;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p(JSON.parse(n.selectedSubject)),r={id:a.id?a.id:0,name:n.newSubjectName,semester:"0"===n.checkedSemester?S.SPRING:S.AUTUMN},!C){t.next=9;break}return t.next=5,Ke({title:"Confirm new details of ".concat(a.name),contentText:"New name: ".concat(r.name,". New semester: ").concat(r.semester)});case 5:t.sent&&e.addEditSubject(r,!0),t.next=13;break;case 9:return t.next=11,Ke({title:"Are you sure you want to add new subject ".concat(r.name,"?"),contentText:"If you have selected the current semester as this subject's semester, it will be visible\n                to all users once it is saved"});case 11:t.sent&&e.addEditSubject(r,!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(qe.a)(Me.a.mark((function t(n){var a;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=p(JSON.parse(n.selectedSubject)),t.next=3,Ke({title:"Delete ".concat(a.name,"?"),contentText:"This action is final and cannot be reverted."});case 3:t.sent&&e.deleteSubject(a.id);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=r.a.createElement("form",{className:"mt-2 mb-2",style:{width:"80%",margin:"auto"}},r.a.createElement(he,{ref:Ce(v,i),inputConfig:v,onChange:function(e){return function(e){var t=Object(T.a)({},j),n=Object(T.a)({},F),a=JSON.parse(e.currentTarget.value);"<New Subject>"===a.name?(g(!1),t.placeholder="Subject Name",t.defaultValue="",t.key="<New Subject>"):(g(!0),t.defaultValue=a.name,t.key=a.name,n.buttons.forEach((function(e){e.key=a.name,e.defaultChecked=e.label===a.semester}))),y(t),N(n)}(e)}}),r.a.createElement(Ue,{ref:Ce(j,i),inputConfig:j,error:ge(s,j)}),r.a.createElement(Ve,{ref:Ce(F,i),inputConfig:F}),r.a.createElement("div",{className:"form-group"},r.a.createElement(Te,{onClick:o(w)},C?"Save Edit":"Save New"),C?r.a.createElement(pe,{className:"ml-2",onClick:o(B)},"Delete Subject"):null));return r.a.createElement(r.a.Fragment,null,Q)},ze=Object(d.b)((function(e){return{subjects:e.subjects.allSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({fetchSubjects:oe,addEditSubject:de,deleteSubject:fe},e)}))(We),Ze=function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(Te,{onClick:function(){X.get("resources/queuedata/",{headers:$()}).then((function(e){!function(e,t,n){var a=window.URL.createObjectURL(new Blob([n])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(e,".").concat(t)),document.body.appendChild(r),r.click()}("queueData","csv",e.data)}))}},"Export"))},$e=function(e){return r.a.createElement(r.a.Fragment,null,e.isAuthenticated?r.a.createElement("div",{className:"d-flex flex-row "+xe.a.adminPage},r.a.createElement(Je,{widthPercent:25,shadow:!0,header:"Subjects"},r.a.createElement(ze,null)),r.a.createElement(Je,{widthPercent:25,shadow:!0,header:"Export Queue Data"},r.a.createElement(Ze,null))):r.a.createElement("h1",{style:{color:"red"}},"UNAUTHORIZED"))},et=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}))($e),tt=Object(H.o)(Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({autoLogin:W,getSubjectData:oe},e)}))((function(e){var t=e.autoLogin,n=e.getSubjectData;Object(a.useEffect)((function(){t(),n()}),[t,n]);var u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:V,exact:!0,render:Be}),r.a.createElement(H.c,{to:V}));return e.isAuthenticated&&(u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:"/Orakel_Queue_Client/Admin",render:function(){return r.a.createElement(et,null)}}),r.a.createElement(H.d,{path:V,exact:!0,render:Be}),r.a.createElement(H.c,{to:V}))),r.a.createElement("div",{style:{textAlign:"center"}},u)}))),nt=(n(90),n(91),n(102)),at=n(40),rt=n(22),ut=n(23),ct=n.n(ut),it=function(e){var t=e.title,n=e.contentText,a=e.url,r=e.hyperlinkText,u=Ye()(Ge.a),c=document.createElement("div");return a&&r&&(c.innerHTML='<strong><a href="'.concat(a,'" target="_blank">').concat(r,"</a></strong>")),u.fire({title:t,html:n,footer:a&&r?c:null,icon:"info",confirmButtonText:"Lukk"})},ot=function(e){var t=e.onLoginSubmit,n=e.clearLoginError,a=Ye()(Ge.a);return a.fire({title:"Orakel Innlogging",html:'<input type="text" id="login" class="swal2-input" placeholder="Brukernavn">\n                        <input type="password" id="password" class="swal2-input" placeholder="Passord">',confirmButtonText:"Logg Inn",showLoaderOnConfirm:!0,showCancelButton:!0,cancelButtonColor:"#d33",cancelButtonText:"Avbryt",allowOutsideClick:function(){return!a.isLoading()},preConfirm:function(){var e=Object(qe.a)(Me.a.mark((function e(){var n,r,u,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.getPopup().querySelector("#login"),r=a.getPopup().querySelector("#password"),u=n.value.trim(),c=r.value.trim(),u&&c){e.next=7;break}return a.showValidationMessage("Oppgi brukernavn og passord!"),e.abrupt("return",!1);case 7:return e.next=9,t(u,c);case 9:if(e.sent){e.next=13;break}return a.showValidationMessage("Ugyldig brukernavn eller passord!"),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}).then((function(e){e.isDismissed&&n()}))},lt=function(e){var t=e.isAuthenticated?ct.a.authenticatedLinkText:ct.a.defaultLinkText,a=e.isAuthenticated?{expand:"lg",bg:"warning"}:{variant:"dark",expand:"lg",bg:"primary"},u=r.a.createElement(rt.a.Link,{className:t,onClick:e.isAuthenticated?e.logoutHandler:function(){ot({onLoginSubmit:e.onLoginSubmit,clearLoginError:e.clearLoginError})}},e.isAuthenticated?"Logg Ut":"Logg Inn");return r.a.createElement(nt.a,a,r.a.createElement(nt.a.Brand,{className:ct.a.invisibleOnMobile},r.a.createElement("img",{className:ct.a.brandImage,alt:"OsloMet Logo",src:n(e.isAuthenticated?96:97)})),r.a.createElement(at.LinkContainer,{to:V},r.a.createElement(rt.a.Link,null,r.a.createElement(nt.a.Brand,{className:e.isAuthenticated?ct.a.authenticatedBrandText:ct.a.brandText},"Orakel"))),r.a.createElement(nt.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(nt.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(rt.a,null,r.a.createElement(rt.a.Link,{className:t,onClick:function(){return it({title:"Discord",contentText:"For digital veiledning benytter vi oss av Discord, og har v\xe5r egen server til dette. Inne p\xe5 serveren setter vi pris p\xe5 om du leser informasjonen i tekstkanalen kalt informasjon, og vi anbefaler alle \xe5 laste ned klienten deres i stedet for \xe5 bruke tjenesten gjennom nettleseren.",url:"https://discord.gg/jgzqYpX",hyperlinkText:"Orakel Discord"})}},"Discord"),r.a.createElement(rt.a.Link,{className:t,onClick:function(){return it({title:"Feilrapportering",contentText:"Orakels k\xf8system er et fritidsprosjekt som er bygget og vedlikeholdt av en person. Det er derfor en viss fare for bugs og feil. Disse kan rapporteres ved \xe5 legge inn en issue p\xe5 GitHub-repoet, eller ved \xe5 ta kontakt med Fredrik Pedersen. Vi setter ogs\xe5 pris p\xe5 \xf8nsker om tilleggsfunksjonalitet :)",url:"https://github.com/OrakelOsloMet/Orakel_Queue_Client/issues",hyperlinkText:"GitHub Repo"})}},"Feilrapportering"),r.a.createElement(rt.a.Link,{className:t,onClick:function(){return it({title:"Om Orakels K\xf8system",contentText:"Coming Soon!",url:"/api/resources/userguide/",hyperlinkText:"Brukerveiledning"})}},"Om"),e.isAuthenticated?r.a.createElement(at.LinkContainer,{to:"/Orakel_Queue_Client/Admin"},r.a.createElement(rt.a.Link,{className:t},"Admin")):null,u)))},st=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({onLoginSubmit:z,clearLoginError:Z,logoutHandler:K},e)}))(lt),Et=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(st,null),r.a.createElement("main",{className:"mb-5"},e.children))},dt=Object(E.e)(x,J(Object(E.a)(f.a))),ft=r.a.createElement(d.a,{store:dt},r.a.createElement(s.BrowserRouter,null,r.a.createElement(Et,null,r.a.createElement(tt,null))));c.a.render(ft,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.dd9b7ea1.chunk.js.map