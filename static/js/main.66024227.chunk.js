(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{23:function(e,t,n){e.exports={brandText:"navbar_brandText__3JYZf",brandImage:"navbar_brandImage__1cdba",defaultLinkText:"navbar_defaultLinkText__Duc5y",authenticatedBrandText:"navbar_authenticatedBrandText__3JKet",authenticatedLinkText:"navbar_authenticatedLinkText__3kvOi",invisibleOnMobile:"navbar_invisibleOnMobile__H03rF"}},54:function(e,t,n){e.exports={queueForm:"queueForm_queueForm__280wg"}},56:function(e,t,n){e.exports={adminPage:"adminPage_adminPage__1C4rP"}},60:function(e,t,n){e.exports=n(98)},88:function(e,t,n){e.exports=n.p+"static/media/hellothere.be0ec76a.mp3"},90:function(e,t,n){},96:function(e,t,n){e.exports=n.p+"static/media/oslometsvart.3b9b0cc3.png"},97:function(e,t,n){e.exports=n.p+"static/media/oslomethvit.2c306d99.png"},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(17),c=n.n(u);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,i,l,s=n(27),E=n(8),d=n(10),f=n(53);!function(e){e.AUTH_START="AUTH_START",e.AUTH_SUCCESS="AUTH_SUCCESS",e.AUTH_FAIL="AUTH_FAIL",e.AUTH_LOGOUT="AUTH_LOGOUT",e.CLEAR_ERROR="CLEAR_ERROR"}(o||(o={})),function(e){e.FETCH_QUEUE_START="FETCH_QUEUE_START",e.FETCH_QUEUE_SUCCESS="FETCH_QUEUE_SUCCESS",e.FETCH_QUEUE_FAIL="FETCH_QUEUE_FAIL",e.ADD_TO_QUEUE_START="ADD_TO_QUEUE_START",e.ADD_TO_QUEUE_SUCCESS="ADD_TO_QUEUE_SUCCESS",e.ADD_TO_QUEUE_FAIL="ADD_TO_QUEUE_FAIL",e.DELETE_FROM_QUEUE_START="DELETE_FROM_QUEUE_START",e.DELETE_FROM_QUEUE_SUCCESS="DELETE_FROM_QUEUE_SUCCESS",e.DELETE_FROM_QUEUE_FAIL="DELETE_FROM_QUEUE_FAIL",e.DONE_IN_QUEUE_START="DONE_IN_QUEUE_START",e.DONE_IN_QUEUE_SUCCESS="DONE_IN_QUEUE_SUCCESS",e.DONE_IN_QUEUE_FAIL="DONE_IN_QUEUE_FAIL"}(i||(i={})),function(e){e.FETCH_SUBJECTS_START="FETCH_SUBJECTS_START",e.FETCH_SUBJECTS_SUCCESS="FETCH_SUBJECTS_SUCCESS",e.FETCH_SUBJECTS_FAIL="FETCH_SUBJECTS_FAIL",e.ADD_SUBJECT_START="ADD_SUBJECT_START",e.ADD_SUBJECT_SUCCESS="ADD_SUBJECT_SUCCESS",e.ADD_SUBJECT_FAIL="ADD_SUBJECT_FAIL",e.EDIT_SUBJECT_START="EDIT_SUBJECT_START",e.EDIT_SUBJECT_SUCCESS="EDIT_SUBJECT_SUCCESS",e.EDIT_SUBJECT_FAIL="EDIT_SUBJECT_FAIL",e.DELETE_SUBJECT_START="DELETE_SUBJECT_START",e.DELETE_SUBJECT_SUCCESS="DELETE_SUBJECT_SUCCESS",e.DELETE_SUBJECT_FAIL="DELETE_SUBJECT_FAIL"}(l||(l={}));var m,S,_=n(6),T=n(16),b=function(e,t){return Object(T.a)(Object(T.a)({},e),t)},p=function(e){for(var t=Object(T.a)({},e),n=0,a=Object.entries(t);n<a.length;n++){var r=Object(_.a)(a[n],2),u=r[0],c=r[1];"string"==typeof c&&("true"!==c&&"false"!==c||(t[u]="true"==c),isNaN(Number(c))||(t[u]=parseFloat(c)))}return t},C={user:null,error:null,loading:!1},g=function(e,t){return b(e,{error:null,loading:!0})},U=function(e,t){return b(e,{user:t.user,error:null,loading:!1})},h=function(e,t){return b(e,{error:t.error,loading:!1})},v=function(e,t){return b(e,{user:null})},A=function(e,t){return b(e,{error:null})},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.AUTH_START:return g(e);case o.AUTH_SUCCESS:return U(e,t);case o.AUTH_FAIL:return h(e,t);case o.AUTH_LOGOUT:return v(e);case o.CLEAR_ERROR:return A(e);default:return e}},D={queueData:[],error:null,loading:!1},j=function(e,t){return b(e,{error:null,loading:!0})},k=function(e,t){return b(e,{error:t.error,loading:!1})},y=function(e,t){return b(e,{queueData:t.queueData,error:null,loading:!1})},L=function(e,t){return b(e,{error:null,loading:!1})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.FETCH_QUEUE_START:case i.ADD_TO_QUEUE_START:case i.DELETE_FROM_QUEUE_START:case i.DONE_IN_QUEUE_START:return j(e);case i.FETCH_QUEUE_FAIL:case i.ADD_TO_QUEUE_FAIL:case i.DELETE_FROM_QUEUE_FAIL:case i.DONE_IN_QUEUE_FAIL:return k(e,t);case i.FETCH_QUEUE_SUCCESS:return y(e,t);case i.ADD_TO_QUEUE_SUCCESS:case i.DELETE_FROM_QUEUE_SUCCESS:case i.DONE_IN_QUEUE_SUCCESS:return L(e);default:return e}},N={allSubjectData:[],currentSubjectData:[],error:null,loading:!1},R=function(e,t){return b(e,{error:null,loading:!0})},I=function(e,t){return b(e,{error:t.error,loading:!1})},w=function(e,t){return t.allSubjectData?b(e,{allSubjectData:t.allSubjectData,error:null,loading:!1}):b(e,{currentSubjectData:t.currentSubjectData,error:null,loading:!1})},B=function(e,t){return b(e,{error:null,loading:!1})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.FETCH_SUBJECTS_START:case l.ADD_SUBJECT_START:case l.DELETE_SUBJECT_START:return R(e);case l.FETCH_SUBJECTS_FAIL:case l.ADD_SUBJECT_FAIL:case l.DELETE_SUBJECT_FAIL:return I(e,t);case l.FETCH_SUBJECTS_SUCCESS:return w(e,t);case l.ADD_SUBJECT_SUCCESS:case l.DELETE_SUBJECT_SUCCESS:return B(e);default:return e}},x=Object(E.c)({auth:O,queue:F,subjects:Q}),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d,H=n(4),M=n(37),q=n.n(M),V="https://orakelqueueservice.herokuapp.com/api/",P="/Orakel_Queue_Client/";!function(e){e.SELECT="select",e.TEXT="text",e.RADIO="radio"}(m||(m={})),function(e){e.SPRING="Spring",e.AUTUMN="Autumn"}(S||(S={}));var G,X=q.a.create({baseURL:V}),Y=q.a.create({baseURL:V,responseType:"blob"}),K=function(e){return{type:o.AUTH_SUCCESS,user:e}},W=function(){return localStorage.removeItem("user"),{type:o.AUTH_LOGOUT}},z=function(){return function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null;t&&t.token?X.post("auth/isTokenValid",t.token).then((function(n){!0===n.data?e(K(t)):e(W())})):e(W())}},Z=function(e,t){return function(n){return n({type:o.AUTH_START}),X.post("auth/signin",{username:e,password:t}).then((function(e){if(e.data.token)return localStorage.setItem("user",JSON.stringify(e.data)),n(K(e.data)),!0})).catch((function(e){return n(function(e){return{type:o.AUTH_FAIL,error:e}}(e.response.data.message)),!1}))}},$=function(){return{type:o.CLEAR_ERROR}},ee=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}},te=function(){return function(e){e({type:i.FETCH_QUEUE_START}),X.get("queue/").then((function(t){var n;e((n=t.data,{type:i.FETCH_QUEUE_SUCCESS,queueData:n}))})).catch((function(t){e(function(e){return{type:i.FETCH_QUEUE_FAIL,error:e}}(t.response))}))}},ne=function(e){return function(t){t({type:i.ADD_TO_QUEUE_START}),X.post("queue/",e).then((function(){t({type:i.ADD_TO_QUEUE_SUCCESS}),t(te())})).catch((function(e){t(function(e){return{type:i.ADD_TO_QUEUE_FAIL,error:e}}(e.response.data))}))}},ae=function(e){return function(t){t({type:i.DELETE_FROM_QUEUE_START}),X.delete("queue/"+e,{headers:ee()}).then((function(){t({type:i.DELETE_FROM_QUEUE_SUCCESS}),t(te())})).catch((function(e){t(function(e){return{type:i.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},re=function(e){return function(t){t({type:i.DONE_IN_QUEUE_START}),X.post("queue/confirmdone/"+e,null,{headers:ee()}).then((function(){t({type:i.DONE_IN_QUEUE_SUCCESS}),t(te())})).catch((function(e){t(function(e){return{type:i.DONE_IN_QUEUE_FAIL,error:e}}(e.response))}))}},ue=function(){return{type:l.FETCH_SUBJECTS_START}},ce=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,allSubjectData:e}},oe=function(e){return{type:l.FETCH_SUBJECTS_SUCCESS,currentSubjectData:e}},ie=function(e){return{type:l.FETCH_SUBJECTS_FAIL,error:e}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(ue());var n=e?"subjects/":"subjects/current/";X.get(n).then((function(n){t(e?ce(n.data):oe(n.data))})).catch((function(e){t(ie(e.response))}))}},se=function(){return{type:l.ADD_SUBJECT_START}},Ee=function(){return{type:l.ADD_SUBJECT_SUCCESS}},de=function(e){return{type:l.ADD_SUBJECT_FAIL,error:e}},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){n(se()),(t?X.put("subjects/edit/"+e.id,e,{headers:ee()}):X.post("subjects/",e,{headers:ee()})).then((function(){n(Ee()),n(le(!0))})).catch((function(e){n(de(e.response))}))}},me=function(e){return function(t){t({type:i.DELETE_FROM_QUEUE_START}),X.delete("subjects/delete/"+e,{headers:ee()}).then((function(){t({type:i.DELETE_FROM_QUEUE_SUCCESS}),t(le(!0))})).catch((function(e){t(function(e){return{type:i.DELETE_FROM_QUEUE_FAIL,error:e}}(e.response))}))}},Se=n(31),_e=n(54),Te=n.n(_e),be=function(e){return r.a.createElement("button",{type:"submit",disabled:e.disabled,className:"btn btn-primary ".concat(e.className),onClick:e.onClick},e.children)},pe=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-success ".concat(e.className),onClick:e.onClick},e.children)},Ce=function(e){return r.a.createElement("button",{disabled:e.disabled,className:"btn btn-danger ".concat(e.className),onClick:e.onClick},e.children)},ge=function(e,t){switch(e.type){case m.TEXT:return t({required:e.validation.errorMessage,minLength:{value:e.validation.minLength,message:e.validation.errorMessage}});default:return t}},Ue=function(e,t){for(var n=!1,a=0,r=Object.entries(e);a<r.length;a++){r[a][0]===t.name&&(n=!0)}return n},he=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)},key:e.inputConfig.key},e.inputConfig)))})),ve=Object(a.forwardRef)((function(e,t){var n="form-control ml-1 mr-1 mt-3 mb-3 ";e.error&&(n+="is-invalid ");return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",Object.assign({ref:t,className:n,onChange:function(t){e.onChange&&e.onChange(t)}},e.inputConfig),e.inputConfig.options.map((function(e){var t="object"===typeof e.value?JSON.stringify(e.value):String(e.value);return r.a.createElement("option",{key:e.displayValue,value:t},e.displayValue)}))))}));!function(e){e.FIRSTNAME="firstname",e.SUBJECT="subject",e.YEAR="year",e.DIGITAL="digitalConsultation"}(G||(G={}));var Ae,Oe=function(e){var t=e.subjects,n=e.addQueueEntity,u=Object(Se.a)(),c=u.register,o=u.handleSubmit,i=u.reset,l=u.errors,s=u.formState.isSubmitSuccessful,E=Object(a.useState)({type:m.TEXT,name:G.FIRSTNAME,placeholder:"Fornavn + bordnummer",validation:{minLength:3,errorMessage:"Vennligst oppgi et fornavn p\xe5 minst 3 bokstaver"}}),d=Object(_.a)(E,1)[0],f=Object(a.useState)({type:m.SELECT,name:G.SUBJECT,options:[]}),S=Object(_.a)(f,2),b=S[0],C=S[1],g=Object(a.useState)({type:m.SELECT,name:G.YEAR,options:[{value:1,displayValue:"1. \xe5r"},{value:2,displayValue:"2. \xe5r"},{value:3,displayValue:"3. \xe5r"}]}),U=Object(_.a)(g,1)[0],h=Object(a.useState)({type:m.SELECT,name:G.DIGITAL,options:[{value:!1,displayValue:"Fysisk Veiledning (Datatorget)"},{value:!0,displayValue:"Digital Veiledning (Discord)"}]}),v=Object(_.a)(h,1)[0];Object(a.useEffect)((function(){t.length>0&&A()}),[t]),Object(a.useEffect)((function(){s&&i()}),[s,i]);var A=function(){var e=Object(T.a)({},b);e.options=[],null===t||void 0===t||t.forEach((function(t){e.options.push({value:t.name,displayValue:t.name})})),C(e)},O=r.a.createElement("form",{onSubmit:o((function(e){var t=p(e),a={id:0,name:t.firstname,subject:t.subject,digitalConsultation:t.digitalConsultation,studyYear:t.year,confirmedDone:!1,timeConfirmedDone:null};n(a)})),className:"form-inline mt-5 mb-5 "+Te.a.queueForm},r.a.createElement(he,{inputConfig:d,error:Ue(l,d),ref:ge(d,c)}),r.a.createElement(ve,{inputConfig:b,ref:ge(b,c)}),r.a.createElement(ve,{inputConfig:U,ref:ge(U,c)}),r.a.createElement(ve,{inputConfig:v,ref:ge(U,c)}),r.a.createElement(be,{className:"ml-2 mr-2"},"Registrer"));return r.a.createElement("div",{className:"bg-white pb-1 pt-1"},O)},De=Object(d.b)((function(e){return{subjects:e.subjects.currentSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({addQueueEntity:ne},e)}))(Oe),je=n(101),ke=function(e){var t=[];return e.defaultColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),e.isAuthenticated&&e.loggedInColumns.forEach((function(e){t.push(r.a.createElement("th",{key:"".concat(e," Header"),scope:"col"},e))})),r.a.createElement("thead",{key:"tableHead",className:"thead-dark"},r.a.createElement("tr",null,t))},ye=function(e){for(var t=e.queueData,n=e.confirmDoneEntity,a=e.deleteQueueEntity,u=e.isAuthenticated,c=e.userRoles,o=e.defaultColumns,i=e.loggedInColumns,l=[],s=function(e){var o="row"+e,i=[];i.push(r.a.createElement("td",{key:"entry"+e,id:"entry"+e},"# ",e+1)),i.push(r.a.createElement("td",{key:"name"+e,id:"name"+e},t[e].name)),i.push(r.a.createElement("td",{key:"subject"+e,id:"subject"+e},t[e].subject)),i.push(r.a.createElement("td",{key:"discord"+e,id:"discord"+e},t[e].digitalConsultation?"Discord":"Datatorget")),u&&c.includes("ROLE_ADMIN")&&i.push(r.a.createElement("td",{key:"actions"+e,id:"action"+e},r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{onClick:function(){return n(t[e].id)}},"Ferdig"),r.a.createElement(Ce,{className:"ml-2",onClick:function(){return a(t[e].id)}},"Slett")))),l.push(r.a.createElement("tr",{key:e,id:o},i))},E=0;E<t.length;E++)s(E);var d=r.a.createElement(ke,{defaultColumns:o,loggedInColumns:i,isAuthenticated:u}),f=r.a.createElement("tbody",null,l);return r.a.createElement(je.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"mb-4 bg-white"},d,f)},Le=function(){return r.a.createElement("div",{className:"spinner-border text-primary"})},Fe=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){"undefined"!==typeof(null===n||void 0===n?void 0:n.current)&&(null===n||void 0===n||n.current())}),t);return function(){return clearInterval(e)}}}),[t])},Ne=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current},Re=n(55),Ie=n(88),we=function(e){var t=e.isAuthenticated,n=e.userRoles,u=e.queueData,c=e.deleteQueueEntity,o=e.confirmDoneEntity,i=e.pollingFunction,l=Object(Re.a)(Ie),s=Object(_.a)(l,1)[0],E=Ne(u);Object(a.useEffect)((function(){i()}),[i]),Fe((function(){i()}),5e3),Object(a.useEffect)((function(){E&&t&&u.length>=E.length&&(function(e,t){if(e.length!==t.length)return!1;for(var n=!0,a=0;a<e.length;a++)if(JSON.stringify(e[a])!==JSON.stringify(t[a])){n=!1;break}return n}(u,E)||s())}),[u,t,s,E]);var d=void 0===u?r.a.createElement(Le,null):r.a.createElement(ye,{defaultColumns:["Plassering","Navn + bordnummer","Emne","Arena"],loggedInColumns:["Handlinger"],queueData:u,isAuthenticated:t,userRoles:n,confirmDoneEntity:o,deleteQueueEntity:c});return r.a.createElement(r.a.Fragment,null,d)},Be=Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token),userRoles:e.auth.user?e.auth.user.roles:[],queueData:e.queue.queueData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({deleteQueueEntity:ae,confirmDoneEntity:re,pollingFunction:te},e)}))(we),Qe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null),r.a.createElement(Be,null))},xe=n(56),Je=n.n(xe),He=function(e){var t="card bg-white mb-4 mt-4 ml-4 mr-4 ",n="".concat(String(e.widthPercent),"%");return e.shadow&&(t+="shadow rounded "),r.a.createElement("div",{className:t,style:{width:n}},r.a.createElement("div",{className:"card-header bg-warning"},r.a.createElement("h2",null,r.a.createElement("b",null,e.header))),e.children)},Me=n(3),qe=n.n(Me),Ve=n(11),Pe=Object(a.forwardRef)((function(e,t){var n="form-check form-check-inline ml-2 mr-2 mt-2 mb-4 ";e.error&&(n+="is-invalid ");var a=function(t){e.onChange&&e.onChange(t)},u=[];return e.inputConfig.buttons.forEach((function(c){u.push(r.a.createElement("div",{key:c.label,className:n},r.a.createElement("input",Object.assign({key:"".concat(c.key,"radio").concat(c.value),value:c.value,className:"form-check-input ",ref:t,defaultChecked:c.defaultChecked,onChange:a},e.inputConfig)),r.a.createElement("label",{className:"form-check-label"},c.label)))})),r.a.createElement(r.a.Fragment,null,u)})),Ge=n(25),Xe=n.n(Ge),Ye=n(26),Ke=n.n(Ye),We=function(e){var t=e.title,n=e.contentText,a=Ke()(Xe.a);return a.fire({title:t,html:n,icon:"warning",showDenyButton:!0,confirmButtonText:"Confirm",denyButtonText:"Cancel"}).then((function(e){return e.isConfirmed?(a.fire("Done!","","success"),!0):e.isDenied?(a.fire("Aborted","","info"),!1):void 0}))};!function(e){e.SELECTED_SUBJECT="selectedSubject",e.NEW_SUBJECT_NAME="newSubjectName",e.CHECKED_SEMESTER="checkedSemester"}(Ae||(Ae={}));var ze=function(e){var t=Ae.NEW_SUBJECT_NAME,n=Ae.SELECTED_SUBJECT,u=Ae.CHECKED_SEMESTER,c=Object(Se.a)(),o=c.register,i=c.handleSubmit,l=c.reset,s=c.errors,E=c.formState.isSubmitSuccessful,d=Object(a.useState)(!1),f=Object(_.a)(d,2),C=f[0],g=f[1],U=Object(a.useState)({type:m.SELECT,name:n,options:[]}),h=Object(_.a)(U,2),v=h[0],A=h[1],O=Object(a.useState)({type:m.TEXT,name:t,key:t,placeholder:"Subject Name",validation:{minLength:3,errorMessage:"Please provide a subject name of with at least 3 characters"}}),D=Object(_.a)(O,2),j=D[0],k=D[1],y=Object(a.useState)({type:m.RADIO,name:u,buttons:[{label:S.SPRING,value:0,key:S.SPRING,defaultChecked:!0},{label:S.AUTUMN,value:1,key:S.AUTUMN,defaultChecked:!1}]}),L=Object(_.a)(y,2),F=L[0],N=L[1];Object(a.useEffect)((function(){e.subjects.length>0?R():e.fetchSubjects(!0)}),[e.subjects]),Object(a.useEffect)((function(){E&&I()}),[E,l]);var R=function(){var t=Object(T.a)({},v);t.options=[],t.options.push({value:{name:"<New Subject>"},displayValue:"<New Subject>"}),e.subjects.forEach((function(e){t.options.push({value:e,displayValue:e.name})})),A(t)},I=function(){var e=b(j,{defaultValue:""});k(e),g(!1),l()},w=function(){var t=Object(Ve.a)(qe.a.mark((function t(n){var a,r;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=p(JSON.parse(n.selectedSubject)),r={id:a.id?a.id:0,name:n.newSubjectName,semester:"0"===n.checkedSemester?S.SPRING:S.AUTUMN},!C){t.next=9;break}return t.next=5,We({title:"Confirm new details of ".concat(a.name),contentText:"New name: ".concat(r.name,". New semester: ").concat(r.semester)});case 5:t.sent&&e.addEditSubject(r,!0),t.next=13;break;case 9:return t.next=11,We({title:"Are you sure you want to add new subject ".concat(r.name,"?"),contentText:"If you have selected the current semester as this subject's semester, it will be visible\n                to all users once it is saved"});case 11:t.sent&&e.addEditSubject(r,!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(Ve.a)(qe.a.mark((function t(n){var a;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=p(JSON.parse(n.selectedSubject)),t.next=3,We({title:"Delete ".concat(a.name,"?"),contentText:"This action is final and cannot be reverted."});case 3:t.sent&&e.deleteSubject(a.id);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=r.a.createElement("form",{className:"mt-2 mb-2",style:{width:"80%",margin:"auto"}},r.a.createElement(ve,{ref:ge(v,o),inputConfig:v,onChange:function(e){return function(e){var t=Object(T.a)({},j),n=Object(T.a)({},F),a=JSON.parse(e.currentTarget.value);"<New Subject>"===a.name?(g(!1),t.placeholder="Subject Name",t.defaultValue="",t.key="<New Subject>"):(g(!0),t.defaultValue=a.name,t.key=a.name,n.buttons.forEach((function(e){e.key=a.name,e.defaultChecked=e.label===a.semester}))),k(t),N(n)}(e)}}),r.a.createElement(he,{ref:ge(j,o),inputConfig:j,error:Ue(s,j)}),r.a.createElement(Pe,{ref:ge(F,o),inputConfig:F}),r.a.createElement("div",{className:"form-group"},r.a.createElement(be,{onClick:i(w)},C?"Save Edit":"Save New"),C?r.a.createElement(Ce,{className:"ml-2",onClick:i(B)},"Delete Subject"):null));return r.a.createElement(r.a.Fragment,null,Q)},Ze=Object(d.b)((function(e){return{subjects:e.subjects.allSubjectData,loading:e.queue.loading,error:e.queue.error}}),(function(e){return Object(E.b)({fetchSubjects:le,addEditSubject:fe,deleteSubject:me},e)}))(ze),$e=function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(be,{onClick:function(){Y.get("resources/queuedata/",{headers:ee()}).then((function(e){!function(e,t,n){var a=window.URL.createObjectURL(new Blob([n])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(e,".").concat(t)),document.body.appendChild(r),r.click()}("queueData","csv",e.data)}))}},"Export"))},et=function(e){return r.a.createElement(r.a.Fragment,null,e.isAuthenticated?r.a.createElement("div",{className:"d-flex flex-row "+Je.a.adminPage},r.a.createElement(He,{widthPercent:25,shadow:!0,header:"Subjects"},r.a.createElement(Ze,null)),r.a.createElement(He,{widthPercent:25,shadow:!0,header:"Export Queue Data"},r.a.createElement($e,null))):r.a.createElement("h1",{style:{color:"red"}},"UNAUTHORIZED"))},tt=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}))(et),nt=Object(H.o)(Object(d.b)((function(e){var t;return{isAuthenticated:null!=(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({autoLogin:z,getSubjectData:le},e)}))((function(e){var t=e.autoLogin,n=e.getSubjectData;Object(a.useEffect)((function(){t(),n()}),[t,n]);var u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:P,exact:!0,render:Qe}),r.a.createElement(H.c,{to:P}));return e.isAuthenticated&&(u=r.a.createElement(H.g,null,r.a.createElement(H.d,{path:"/Orakel_Queue_Client/Admin",render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(H.d,{path:P,exact:!0,render:Qe}),r.a.createElement(H.c,{to:P}))),r.a.createElement("div",{style:{textAlign:"center"}},u)}))),at=(n(90),n(91),n(102)),rt=n(40),ut=n(22),ct=n(23),ot=n.n(ct),it=function(e){var t=e.title,n=e.contentText,a=e.url,r=e.hyperlinkText,u=Ke()(Xe.a),c=document.createElement("div");return a&&r&&(c.innerHTML='<strong><a href="'.concat(a,'" target="_blank">').concat(r,"</a></strong>")),u.fire({title:t,html:n,footer:a&&r?c:null,icon:"info",confirmButtonText:"Lukk"})},lt=function(e){var t=e.onLoginSubmit,n=e.clearLoginError,a=Ke()(Xe.a);return a.fire({title:"Orakel Innlogging",html:'<input type="text" id="login" class="swal2-input" placeholder="Brukernavn">\n                        <input type="password" id="password" class="swal2-input" placeholder="Passord">',confirmButtonText:"Logg Inn",showLoaderOnConfirm:!0,showCancelButton:!0,cancelButtonColor:"#d33",cancelButtonText:"Avbryt",allowOutsideClick:function(){return!a.isLoading()},preConfirm:function(){var e=Object(Ve.a)(qe.a.mark((function e(){var n,r,u,c;return qe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.getPopup().querySelector("#login"),r=a.getPopup().querySelector("#password"),u=n.value.trim(),c=r.value.trim(),u&&c){e.next=7;break}return a.showValidationMessage("Oppgi brukernavn og passord!"),e.abrupt("return",!1);case 7:return e.next=9,t(u,c);case 9:if(e.sent){e.next=13;break}return a.showValidationMessage("Ugyldig brukernavn eller passord!"),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}).then((function(e){e.isDismissed&&n()}))},st=function(e){var t=e.isAuthenticated?ot.a.authenticatedLinkText:ot.a.defaultLinkText,a=e.isAuthenticated?{expand:"lg",bg:"warning"}:{variant:"dark",expand:"lg",bg:"primary"},u=r.a.createElement(ut.a.Link,{className:t,onClick:e.isAuthenticated?e.logoutHandler:function(){lt({onLoginSubmit:e.onLoginSubmit,clearLoginError:e.clearLoginError})}},e.isAuthenticated?"Logg Ut":"Logg Inn");return r.a.createElement(at.a,a,r.a.createElement(at.a.Brand,{className:ot.a.invisibleOnMobile},r.a.createElement("img",{className:ot.a.brandImage,alt:"OsloMet Logo",src:n(e.isAuthenticated?96:97)})),r.a.createElement(rt.LinkContainer,{to:P},r.a.createElement(ut.a.Link,null,r.a.createElement(at.a.Brand,{className:e.isAuthenticated?ot.a.authenticatedBrandText:ot.a.brandText},"Orakel"))),r.a.createElement(at.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(at.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(ut.a,null,r.a.createElement(ut.a.Link,{className:t,onClick:function(){return it({title:"Discord",contentText:"For digital veiledning benytter vi oss av Discord, og har v\xe5r egen server til dette. Inne p\xe5 serveren setter vi pris p\xe5 om du leser informasjonen i tekstkanalen kalt informasjon, og vi anbefaler alle \xe5 laste ned klienten deres i stedet for \xe5 bruke tjenesten gjennom nettleseren.",url:"https://discord.gg/jgzqYpX",hyperlinkText:"Orakel Discord"})}},"Discord"),r.a.createElement(ut.a.Link,{className:t,onClick:function(){return it({title:"Feilrapportering",contentText:"Orakels k\xf8system er et fritidsprosjekt som er bygget og vedlikeholdt av en person. Det er derfor en viss fare for bugs og feil. Disse kan rapporteres ved \xe5 legge inn en issue p\xe5 GitHub-repoet, eller ved \xe5 ta kontakt med Fredrik Pedersen. Vi setter ogs\xe5 pris p\xe5 \xf8nsker om tilleggsfunksjonalitet :)",url:"https://github.com/OrakelOsloMet/Orakel_Queue_Client/issues",hyperlinkText:"GitHub Repo"})}},"Feilrapportering"),r.a.createElement(ut.a.Link,{className:t,onClick:function(){return it({title:"Om Orakels K\xf8system",contentText:"Coming Soon!",url:"https://orakelqueueservice.herokuapp.com/api/resources/userguide/",hyperlinkText:"Brukerveiledning"})}},"Om"),e.isAuthenticated?r.a.createElement(rt.LinkContainer,{to:"/Orakel_Queue_Client/Admin"},r.a.createElement(ut.a.Link,{className:t},"Admin")):null,u)))},Et=Object(d.b)((function(e){var t;return{isAuthenticated:void 0!==(null===(t=e.auth.user)||void 0===t?void 0:t.token)}}),(function(e){return Object(E.b)({onLoginSubmit:Z,clearLoginError:$,logoutHandler:W},e)}))(st),dt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Et,null),r.a.createElement("main",{className:"mb-5"},e.children))},ft=Object(E.e)(x,J(Object(E.a)(f.a))),mt=r.a.createElement(d.a,{store:ft},r.a.createElement(s.BrowserRouter,null,r.a.createElement(dt,null,r.a.createElement(nt,null))));c.a.render(mt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.66024227.chunk.js.map